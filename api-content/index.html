{"posts":[{"title":"Hmaster å¯åŠ¨è¿‡ç¨‹","content":"1. è°ƒç”¨é“¾ HMasterCommandLine | | - run local | ----- - startMaster -| | | |- new MiniZooKeeperCluster.startup //embedded zookeeper cluster | | |- createDir //åˆ›å»º zk æ•°æ®ç›®å½• | | |- zks = new ZooKeeperServer | | |- new NIOServerCnxn.Factory(clientPort).startup //å¯åŠ¨æœåŠ¡ | | | | | | | |- zks.startdata | | | | | | | | | |- new ZKDatabase | | | | |- loadData // Restore sessions and data | | | | | | | - zks.startup | | | | | | | |- startSessionTracker | | | |- setupRequestProcessors | | | | | | | |- new FinalRequestProcessor | | | |- new SyncRequestProcessor.start | | | |- new PrepRequestProcessor.start | | | |- registerJMX //æ³¨å†ŒJMX mbean | | | | | - waitForServerUp // echo &quot;stat&quot; to assert zk liveless | | | | | - new LocalHBaseCluster().startup //å¯åŠ¨åŒ…æ‹¬ Hmaster + RS çš„æœåŠ¡ | | | |- masterClass = org.apache.hadoop.hbase.master.HMasterCommandLine$LocalHMaster | |-addMaster() | | |- createMasterThread() | | | |- HMaster.init() | | | | |- HregionServer.init() | | | | | |- UserProvider.instantiate(conf) // åˆå§‹åŒ– userprovider | | | | | |- FSUtils.setupShortCircuitRead(this.conf) // short circuit read setup | | | | | |- createRpcServices() | | | | | | | - MasterRpcServices.init() -&gt;RSRpcServices.init() | | | | | | | | - rpcServer = new RpcServer() | | | | | | | | | - rpcSchedulerFactory.create() | | | | | | | | | | - callExecutor //åˆå§‹åŒ–è¯»å†™executor | | | | | | | | | | - priorityExecutor //åˆå§‹åŒ–priorityExecutor | | | | | | | | | | - replicationExecutor //åˆå§‹åŒ–replicationExecutor | | | | | |- new ZooKeeperWatcher() //åˆå§‹åŒ–zkè¿æ¥å’Œwatcherï¼Œå¹¶createç›¸å…³çš„znode | | | | | |- TableLockManager.createTableLockManager | | | | | |- new MasterAddressTracker.start() // /hbase/master znode watcher to track master address | | | | | | | - createBaseZNodes() | | | | | | | | | - RpcServer.init() | | | | | | | | | | - | | |- rpcServer = HBaseRPC.getServer | | |- rpcServer.startThreads | | | | | | | |- responder.start() | | | |- listener.start() | | | - handlers = new Handler[handlerCount].startall() | | | | | - new ZooKeeperWatcher | | | |- HRegionServer.newInstance | | | | | |- server = HBaseRPC.getServer | | - run | | | | | - server.startThreads | | | - start master and rs threads | | ------------ HMaster.constructMaster(HMaster.class, confï¼‰-&gt;start(); distributed | | | |- new MiniZooKeeperCluster.startup | | | | | |- zks = new ZooKeeperServer | | |- new NIOServerCnxn.Factory(clientPort).startup | | | | | | | |- zks.startdata | | | | | | | | | |- new ZKDatabase | | | | | | | - zks.startup | | | | | | | |- startSessionTracker | | | - setupRequestProcessors | | | | | | | | PrepRequestProcessor -&gt; SyncRequestProcessor -&gt; FinalRequestProcessor | | | | | | | |- new FinalRequestProcessor | | | |- new SyncRequestProcessor | | | - new PrepRequestProcessor | | | | | - socket connect clientPort 'stat' to assert zk alive | | | | | - new LocalHBaseCluster().startup | | | |- HMaster.newInstance | | | | | |- rpcServer = HBaseRPC.getServer | | |- rpcServer.startThreads | | | | | | | |- responder.start() | | | |- listener.start() | | | - handlers = new Handler[handlerCount].startall() | | | | | - new ZooKeeperWatcher | | | |- HRegionServer.newInstance | | | | | |- server = HBaseRPC.getServer | | - run | | | | | - server.startThreads | | | - start master and rs threads | | ------------ HMaster.constructMaster(HMaster.class, confï¼‰-&gt;start(); ","link":"https://casperit.github.io/post/hmaster-qi-dong-guo-cheng/"},{"title":"Hello Gridea","content":"ğŸ‘ æ¬¢è¿ä½¿ç”¨ Gridea ï¼ âœï¸ Gridea ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ... Github Gridea ä¸»é¡µ ç¤ºä¾‹ç½‘ç«™ ç‰¹æ€§ğŸ‘‡ ğŸ“ ä½ å¯ä»¥ä½¿ç”¨æœ€é…·çš„ Markdown è¯­æ³•ï¼Œè¿›è¡Œå¿«é€Ÿåˆ›ä½œ ğŸŒ‰ ä½ å¯ä»¥ç»™æ–‡ç« é…ä¸Šç²¾ç¾çš„å°é¢å›¾å’Œåœ¨æ–‡ç« ä»»æ„ä½ç½®æ’å…¥å›¾ç‰‡ ğŸ·ï¸ ä½ å¯ä»¥å¯¹æ–‡ç« è¿›è¡Œæ ‡ç­¾åˆ†ç»„ ğŸ“‹ ä½ å¯ä»¥è‡ªå®šä¹‰èœå•ï¼Œç”šè‡³å¯ä»¥åˆ›å»ºå¤–éƒ¨é“¾æ¥èœå• ğŸ’» ä½ å¯ä»¥åœ¨ Windowsï¼ŒMacOS æˆ– Linux è®¾å¤‡ä¸Šä½¿ç”¨æ­¤å®¢æˆ·ç«¯ ğŸŒ ä½ å¯ä»¥ä½¿ç”¨ ğ–¦ğ—‚ğ—ğ—ğ—ğ–» ğ–¯ğ–ºğ—€ğ–¾ğ—Œ æˆ– Coding Pages å‘ä¸–ç•Œå±•ç¤ºï¼Œæœªæ¥å°†æ”¯æŒæ›´å¤šå¹³å° ğŸ’¬ ä½ å¯ä»¥è¿›è¡Œç®€å•çš„é…ç½®ï¼Œæ¥å…¥ Gitalk æˆ– DisqusJS è¯„è®ºç³»ç»Ÿ ğŸ‡¬ğŸ‡§ ä½ å¯ä»¥ä½¿ç”¨ä¸­æ–‡ç®€ä½“æˆ–è‹±è¯­ ğŸŒ ä½ å¯ä»¥ä»»æ„ä½¿ç”¨åº”ç”¨å†…é»˜è®¤ä¸»é¢˜æˆ–ä»»æ„ç¬¬ä¸‰æ–¹ä¸»é¢˜ï¼Œå¼ºå¤§çš„ä¸»é¢˜è‡ªå®šä¹‰èƒ½åŠ› ğŸ–¥ ä½ å¯ä»¥è‡ªå®šä¹‰æºæ–‡ä»¶å¤¹ï¼Œåˆ©ç”¨ OneDriveã€ç™¾åº¦ç½‘ç›˜ã€iCloudã€Dropbox ç­‰è¿›è¡Œå¤šè®¾å¤‡åŒæ­¥ ğŸŒ± å½“ç„¶ Gridea è¿˜å¾ˆå¹´è½»ï¼Œæœ‰å¾ˆå¤šä¸è¶³ï¼Œä½†è¯·ç›¸ä¿¡ï¼Œå®ƒä¼šä¸åœå‘å‰ ğŸƒ æœªæ¥ï¼Œå®ƒä¸€å®šä¼šæˆä¸ºä½ ç¦»ä¸å¼€çš„ä¼™ä¼´ å°½æƒ…å‘æŒ¥ä½ çš„æ‰åå§ï¼ ğŸ˜˜ Enjoy~ ","link":"https://casperit.github.io/post/hello-gridea/"}]}